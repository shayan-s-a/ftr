<!-- sldsValidatorIgnore -->
<template>
    <template if:false={timesheet.summaryRow}>
        <template if:false={timesheet.weeklySumRow}>
            <td class={columnClass}>
                <template if:false={readOnly}>
                    <template if:false={timesheet.combineRow}>
                        <template if:true={timesheet.isEditable}>
                            <template if:false={timesheet.approved}>
                                <lightning-icon if:true={timesheet.showOptions} icon-name="utility:add" size="x-small"
                                style="cursor: pointer; --lwc-colorTextIconDefault: #747474;" class="icon addIcon" onclick={handleAddRow} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                data-emptyrownumber={timesheet.emptyRowNumber} title="Add Row"></lightning-icon>
                                <lightning-button-menu alternative-text="Show More Options" class="dropdown" if:true={timesheet.showOptions}>
                                    <lightning-menu-item prefix-icon-name="utility:copy" value="CopyRow" label="Copy Row" onclick={handleOptions} data-id={timesheet.id}
                                    data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                    data-emptyrownumber={timesheet.emptyRowNumber}></lightning-menu-item>
                                    <lightning-menu-item prefix-icon-name="utility:paste" value="PasteRow" label="Paste Row" disabled={pasteDisabled} onclick={handleOptions} data-id={timesheet.id}
                                    data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                    data-emptyrownumber={timesheet.emptyRowNumber}></lightning-menu-item>
                                    <lightning-menu-item   prefix-icon-name="utility:delete" value="DeleteRow" label="Delete Row" onclick={handleOptions} 
                                    data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                    data-emptyrownumber={timesheet.emptyRowNumber}></lightning-menu-item>
                                </lightning-button-menu>
                            </template>
                        </template> 
                    </template>
                    <template if:true={timesheet.inEditMode}> 
                        <template if:false={timesheet.delible}>
                            <lightning-button-icon if:true={timesheet.showOptions} variant="base" size="x-small"
                                icon-name="action:refresh" onclick={handleRowRefresh} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                data-emptyrownumber={timesheet.emptyRowNumber}
                                alternative-text="Refresh"></lightning-button-icon>
                        </template>
                        <template if:true={timesheet.delible}>
                            <lightning-button-icon if:true={timesheet.showOptions} class="deleteIcon" size="x-small"
                                icon-name="action:remove" onclick={handleRowDelete} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}
                                data-emptyrownumber={timesheet.emptyRowNumber}
                                alternative-text="Remove"></lightning-button-icon>
                        </template>
                    </template>
                </template>
                <template if:true={showCheckbox}>
                    <template if:false={screenApproval}>
                        <div class="slds-text-align_center">
                            <!-- <lightning-input type="checkbox" checked={timesheet.checked} variant="label-hidden"
                                name="checked" onchange={handleRowChecked} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}></lightning-input> -->
                                <!-- Asir added disabled property to handle timesheet view -->
                                <lightning-input style="margin-left: 10px;" type="checkbox" disabled={timesheet.disableCheckbox} checked={timesheet.checked} variant="label-hidden"
                                name="checked" onchange={handleRowChecked} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}></lightning-input>
                        </div>
                    </template>
                </template>
            </td>
            <template if:true={screenApproval}>
                <td>
                    <template if:true={showCheckbox}>
                        <div class="slds-text-align_center">
                            <!-- <lightning-input type="checkbox" checked={timesheet.checked} variant="label-hidden"
                                name="checked" onchange={handleRowChecked} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate}></lightning-input> -->
                                <!-- Asir added disabled property to handle timesheet view -->
                                <lightning-input style="margin-left: 10px;" type="checkbox" disabled={timesheet.disableCheckbox} checked={timesheet.checked} variant="label-hidden"
                                name="checked" onchange={handleRowChecked} data-id={timesheet.id}
                                data-dayname={timesheet.dayName} data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}></lightning-input>
                        </div>
                    </template>
                </td>
            </template>
            <td class={columnClass}>
                <div class="slds-grid">
                    <template if:false={timesheet.combineRow}>
                        <div class="slds-col slds-size_1-of_4">
                            <template if:true={timesheet.approved}>
                                <lightning-icon title={timesheet.approvalMsg} icon-name="action:approval"
                                class="approveIcon" size="small"></lightning-icon>
                            </template>
                            <template if:true={timesheet.submitted}>
                                <lightning-icon title="Submitted and waiting for approval" icon-name="utility:clock"
                                    size="small" class="clockIcon"></lightning-icon>
                            </template>
                            <template if:true={timesheet.timsheetSaved}>
                                <lightning-icon title="Saved but not submitted" icon-name="utility:save" size="small"
                                    class="saveIcon"></lightning-icon>
                            </template>
                            <template if:true={timesheet.recall}>
                                <lightning-icon title="Request to edit" icon-name="action:recall"
                                    size="xx-small" class="recallIcon"></lightning-icon>
                            </template>
                            <template if:true={timesheet.rejected}>
                                <lightning-icon title={timesheet.rejectionReason} icon-name="action:reject"
                                    size="xx-small" class="rejectIcon"></lightning-icon>
                            </template>
                        </div>
                    </template>
                </div>
            </td>

            <template if:true={isManager}>
                <td class={columnClass}>
                    <template if:false={timesheet.combineRow}>
                        {timesheet.userName}
                    </template>
                </td>
            </template>

            <td class={columnClass}>
                <div class="slds-col slds-size_3-of_4 slds-var-p-left_small">
                    {timesheet.dayName}, {timesheet.dayDate}
                </div>
            </td>

            <!-- <td class={columnClass} onclick={handleRowEdit} data-id={timesheet.id} data-dayname={timesheet.dayName}
                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}>
                <template if:false={timesheet.inEditMode}>
                    {timesheet.payCode}
                </template>
                <template if:true={timesheet.inEditMode}>
                    <lightning-combobox value={timesheet.payCode} data-id={timesheet.id}
                        data-emptyrownumber={timesheet.emptyRowNumber} data-name="payCode" placeholder="Select Pay Code"
                        options={timesheet.payCodes} onchange={handleRowChange}></lightning-combobox>
                </template>
            </td> -->
            <td class={columnClass} onclick={handleRowEdit} data-id={timesheet.id} data-dayname={timesheet.dayName}
                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}>
                <template if:false={timesheet.inEditMode}>
                    {timesheet.projectName}
                </template>
                <template if:true={timesheet.inEditMode}>
                    <span class="customCSsSterikforCombobox">*</span>
                    <lightning-combobox  style="width:190px; margin: 0 auto;" value={timesheet.project} data-id={timesheet.id}
                        data-emptyrownumber={timesheet.emptyRowNumber} data-name="project" placeholder="Select Project"
                        options={timesheet.projects} onchange={handleRowChange} ></lightning-combobox>
                </template>
            </td>
            <!-- <td class={columnClass} onclick={handleRowEdit} data-id={timesheet.id} data-dayname={timesheet.dayName}
                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}> -->
                <!-- <template if:false={timesheet.inEditMode}> -->
                <!-- {timesheet.projectParticipantRole} -->
                <!-- </template> -->
                <!-- <template if:true={timesheet.inEditMode}>
                <lightning-input value={timesheet.rate} type="number" variant="standard"
                    data-id={timesheet.id} data-emptyrownumber={timesheet.emptyRowNumber}
                    data-name="rate" placeholder="Enter Rate" style="width:100px"
                    onchange={handleRowChange}></lightning-input>
            </template> -->
            <!-- </td> -->

            <td class={columnClass} onclick={handleRowEdit} data-id={timesheet.id} data-dayname={timesheet.dayName}
                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}>
                <template if:false={timesheet.inEditMode}>
                    {timesheet.hours}
                </template>
                <template if:true={timesheet.inEditMode}>
                    <span class="customCSsSterik"> *</span>
                    <lightning-input value={timesheet.hours} step=".01" min="0" max="15" type="number"
                        variant="standard" data-id={timesheet.id} data-emptyrownumber={timesheet.emptyRowNumber}
                        placeholder="Enter Hours" style="width:100px; margin: 0 auto;" data-name="hours" onchange={handleRowChange}
                        message-when-range-overflow="You can enter maximum of 15 hours"
                        message-when-range-underflow="You can enter minimum of 0 hour" 
                        onblur={handleBlur}></lightning-input>
                </template>
            </td>
            <!-- <td class={columnClass}>
                {timesheet.divisionalOffice}
            </td>
            <td class={columnClass}>
                {timesheet.regularHours}
            </td> -->
            <template if:false={timesheet.inEditMode}>
                <template if:true={timesheet.isEditable}>
                    <template if:false={timesheet.overTime}>
                        <template if:false={timesheet.isEmptyRow}>
                            <td class={columnClass}>
                                <template if:true={showOtBtn}>
                                    <template if:true={noHours}>
                                        <lightning-icon title="Add OverTime Hours" icon-name="utility:add" size="x-small"
                                            style="cursor: pointer; --lwc-colorTextIconDefault: #747474;" class="icon" onclick={handleOvertimeModal} data-id={timesheet.id} data-dayname={timesheet.dayName}
                                            data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber} data-iseditmodal=false></lightning-icon>
                                    </template>
                                </template>
                                <!-- <lightning-button variant="brand" label="Add OT Hours" title="" onclick={handleOvertimeModal} data-id={timesheet.id} data-dayname={timesheet.dayName}
                                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}></lightning-button> -->
                            </td>
                        </template>
                        <template if:true={timesheet.isEmptyRow}>
                            <td class={columnClass} data-id={timesheet.id} data-dayname={timesheet.dayName}
                                data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber}>
                                {timesheet.totalOvertimeHours}
                            </td>
                        </template>
                    </template>
                    <template if:true={timesheet.overTime}>
                        <td class={columnClass}>
                            <span> {timesheet.totalOvertimeHours} </span>
                            <template if:true={showOtBtn}>
                                <span><lightning-icon icon-name="utility:edit" size="x-small"
                                    style="cursor: pointer; --lwc-colorTextIconDefault: #007CAD;" class="icon" onclick={handleOvertimeModal} data-id={timesheet.id} data-dayname={timesheet.dayName}
                                    data-daydate={timesheet.dayDate} data-emptyrownumber={timesheet.emptyRowNumber} data-overtimetype={timesheet.overtimeType} data-overtimeto={timesheet.overtimeTo} data-overtimefrom={timesheet.overtimeFrom} data-overtimedescription={timesheet.overtimeDescription} data-iseditmodal=true></lightning-icon></span>
                            </template>
                        </td>
                    </template>
                </template>
            </template>
            <template if:true={timesheet.inEditMode}>
                <td class={columnClass}>
                    {timesheet.totalOvertimeHours}
                </td>
            </template>
            <template if:false={timesheet.isEditable}>
                <td class={columnClass}>
                    {timesheet.totalOvertimeHours}
                </td>
            </template>
            <td class={columnClass}>
                <!-- <template if:false={timesheet.totalRowsInDay}> -->
                <template if:true={timesheet.showEachRowTotal}>
                    <b>{timesheet.totalHours}</b>
                </template>
            </td>
        </template>
    </template>

    <!-- ******************* SUMMARY ROW ******************* -->
    <template if:true={timesheet.summaryRow}>
        <td style="border-bottom: 1px solid black;"></td>
        <!-- <td colspan={rowColumnsWidth} style="text-align: right; border-bottom: 1px solid black; ">-->
            <td colspan="6" style="text-align: right; border-bottom: 1px solid black; ">
            <b>Total {timesheet.dayName} Hours:</b>
        </td>
        <td style="border-bottom: 1px solid black; ">
            <b>{timesheet.totalhoursInDay}</b>
        </td>
    </template>

    <!-- ******************* WEEKLY SUM ROW ******************* -->

    <template if:true={timesheet.weeklySumRow}>
        <!-- <td colspan="7" style="background-color:rgb(125, 125, 125)"></td> -->
        <!--Asir edited this part to handle timesheet view-->
        <template if:true={screenApproval}>
            <template if:true={changeWeeklyRowColspan}>
                <td colspan="8" style="text-align: right;  color: white; background-color:rgb(125, 125, 125)">
                    <div class="slds-text-heading_small">
                        <!-- <b>WEEK {timesheet.weekNumber} TOTAL HOURS</b> -->
                        <b>Week Total Hours</b>
                    </div>
                </td>
            </template>
    
            <template if:false={changeWeeklyRowColspan}>
                <td class="" colspan="8" style="text-align: right;  color: white; background-color:rgb(125, 125, 125)">
                    <div class="slds-text-heading_small">
                        <!-- <b>WEEK {timesheet.weekNumber} TOTAL HOURS</b> -->
                        <b>Week Total Hours</b>
                    </div>
                </td>
            </template>
        </template>
        <template if:false={screenApproval}>
            <template if:true={changeWeeklyRowColspan}>
                <td colspan="7" style="text-align: right;  color: white; background-color:rgb(125, 125, 125)">
                    <div class="slds-text-heading_small">
                        <!-- <b>WEEK {timesheet.weekNumber} TOTAL HOURS</b> -->
                        <b>Week Total Hours</b>
                    </div>
                </td>
            </template>
    
            <template if:false={changeWeeklyRowColspan}>
                <td colspan="6" style="text-align: right;  color: white; background-color:rgb(125, 125, 125)">
                    <div class="slds-text-heading_small">
                        <!-- <b>WEEK {timesheet.weekNumber} TOTAL HOURS</b> -->
                        <b>Week Total Hours</b>
                    </div>
                </td>
            </template>
        </template>
        <td style="background-color:rgba(226,251,255,255); color: black; text-align:center; ">
            <div class="slds-text-heading_small">

                <b style="font-weight: 800;">{timesheet.totalHours} Hrs</b>

            </div>
        </td>

    </template>
</template>