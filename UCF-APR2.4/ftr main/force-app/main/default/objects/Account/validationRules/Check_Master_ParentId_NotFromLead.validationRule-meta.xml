<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Check_Master_ParentId_NotFromLead</fullName>
    <active>true</active>
    <errorConditionFormula>OR(
AND(
RecordType.Name =&apos;Master&apos;,
NOT(ISNEW()),
ISBLANK(Customer_Number__c),
NOT(OR(
Parent.RecordType.Name=&apos;Organization&apos;,
Parent.RecordType.Name=&apos;Global&apos;
     ))
)


,
AND(
ISNEW(),
RecordType.Name =&apos;Master&apos;,
ConvertedFromLead__c = false,
ISBLANK(Customer_Number__c),
NOT(OR(
Parent.RecordType.Name=&apos;Organization&apos;,
Parent.RecordType.Name=&apos;Global&apos;
     )
)
)

)</errorConditionFormula>
    <errorDisplayField>ParentId</errorDisplayField>
    <errorMessage>Master Account must have a Parent Account with a record type of Global Account or Organization Account. Please reach out to your Salesforce Admin for Assistance</errorMessage>
</ValidationRule>
