<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Check_Service_Parent</fullName>
    <active>true</active>
    <description>Service Accounts must have a Parent Account with a record type of Master Account or Organization</description>
    <errorConditionFormula>AND (
RecordType.Name = &apos;Service&apos;,
$UserRole.Name &lt;&gt; &apos;Frontier Partner Portal Partner User&apos;,
$Profile.Name &lt;&gt; &apos;Frontier System Administrator&apos;,

NOT (
OR(
Parent.RecordType.Name = &apos;Organization&apos; ,
Parent.RecordType.Name = &apos;Master&apos;)
)
)</errorConditionFormula>
    <errorDisplayField>ParentId</errorDisplayField>
    <errorMessage>Service Accounts must have a Parent Account with a record type of Master Account or Organization. Please reach out to your Salesforce Admin for Assistance.</errorMessage>
</ValidationRule>
