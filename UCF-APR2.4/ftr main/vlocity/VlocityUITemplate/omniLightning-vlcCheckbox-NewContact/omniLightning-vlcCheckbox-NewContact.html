<div class="slds-col--padded slds-size--1-of-1 new-contact" ng-controller="newContactController">
    <ng-form name="loopform" class="slds-form-element vlc-flex vlc-slds-checkbox" ng-repeat="control in child.eleArray">
        <div style="width: 100%">
            <div class="slds-form-element__control vlc-slds-checkbox">
                <label class="slds-checkbox">
                    <input id="{{::control.name}}" type="checkbox" name="loopname" ng-disabled="control.ro"
                        ng-model="control.response" ng-init="init(this, control)" vlc-slds-check-val-checker="response"
                        ng-change="aggregate(this, control.index, control.indexInParent, true, -1)" />

                    <span class="slds-checkbox--faux"></span>

                    <!-- bubble canceller prevents bubbling of the click events to the checkbox -->
                    <label class="slds-form-element__label vlc-slds-inline-control__label" vlc-bubble-canceller="test">
                        <!-- OMNI-1963 -->
                        <span for="{{::control.name}}" class="slds-form-element__label">
                            {{::control.propSetMap.checkLabel}}
                        </span>

                        <!-- tooltip template -->
                        <a vlc-slds-tool-tip="test" nubbin-direction="auto top-left"
                            ng-show="{{control.propSetMap.help}}">
                            i
                        </a>

                        <div vlc-slds-include="vlcLabelController.html" ng-init="size='responsive'"></div>

                        <span class="vlc-asterix icon-v-asterix" ng-if="control.req">
                        </span>
                    </label>
                </label>
                <div ng-if="!control.response && displaySucessMessage" class="contact-success-message">contact created successfully</div>
                <div ng-include="::errHTMLId"></div>
            </div>
            <article class="new-contact-card" ng-if="control.response">
                <form class="slds-form-element slds-form-element_compound slds-form-element_address" id="contact-form">
                    <div class="slds-card__header slds-grid"></div>
                    <div class="slds-card__body slds-card__body_inner">
                        
                            <legend class="slds-form-element__legend slds-form-element__label">
                                New Contact Details
                            </legend>
                            <div class="slds-form-element__control">
                                <div class="slds-row">
                                    <div class="slds-col slds-size_3-of-8">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="form-element-id-{{control.name}}-{{control.index}}-fname">First Name</label><span class="vlc-asterix icon-v-asterix"></span>
                                            <div class="slds-form-element__control">
                                                <input name="First Name" type="text" id="form-element-id-{{control.name}}-{{control.index}}-fname" required="true" class="slds-input" ng-model="record.firstName"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_3-of-8">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="form-element-id-{{control.name}}-{{control.index}}-lname">Last Name</label><span class="vlc-asterix icon-v-asterix"></span>
                                            <div class="slds-form-element__control">
                                                <input name="Last Name" type="text" id="form-element-id-{{control.name}}-{{control.index}}-lname" required="true" class="slds-input" ng-model="record.lastName" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-row">
                                    <div class="slds-col slds-size_4-of-8">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="form-element-id-{{control.name}}-{{control.index}}-email">Email</label><span class="vlc-asterix icon-v-asterix"></span>
                                            <div class="slds-form-element__control">
                                                <input name="Email" type="email" id="form-element-id-{{control.name}}-{{control.index}}-email" required="true"  class="slds-input" ng-model="record.email" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_3-of-8">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="form-element-id-{{control.name}}-{{control.index}}-phone">Phone</label><span class="vlc-asterix icon-v-asterix"></span>
                                            <div class="slds-form-element__control">
                                                <input name="Phone" type="tel" ui-mask="(999) 999-9999" id="form-element-id-{{control.name}}-{{control.index}}-phone" required="true" class="slds-input" ng-model="record.phone" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_1-of-8">
                                        <div class="slds-form-element">
                                            <label class="slds-form-element__label" for="form-element-id-{{control.name}}-{{control.index}}-extension">Ext</label>
                                            <div class="slds-form-element__control">
                                                <input type="text" id="form-element-id-{{control.name}}-{{control.index}}-extension" ng-min="0" class="slds-input" ng-model="record.extension"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                    <footer class="slds-card__footer">
                        <!-- <a  class="slds-card__footer-action">Save</a> -->
                        <div class="slds-grid" >
                            <div >
                                <span ng-if="errors" class="slds-text-color_error">
                                    {{errors}}
                                </span>
                            </div>
                            <div style="margin-left: auto;" class="slds-size--1-of-1 slds-medium-size--1-of-12 vlc-slds-remote-action--button" title='Cancel' ng-click="clearRecord(control)" type="reset">
                                <div class="slds-form-element__control">
                                    <div class="vlc-control-wrapper">
                                    
                                        <div class="slds-box vlc-slds-box--neutral" role="button" tabindex="0">
                                            <p class="ng-binding">Cancel</p>
                                        </div>
                                    
                                    </div>
                                </div>
                            </div>
                            <div class="slds-size--1-of-1 slds-medium-size--1-of-12 vlc-slds-remote-action--button" title='Save' ng-click="saveRecord(control)" ng-disabled="" type="submit">
                                <div class="slds-form-element__control">
                                    <div class="vlc-control-wrapper">
                                    
                                        <div class="slds-box " role="button" tabindex="0">
                                            <p class="ng-binding">Save</p>
                                        </div>
                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </form>
            </article>
        </div>
    </ng-form>
</div>