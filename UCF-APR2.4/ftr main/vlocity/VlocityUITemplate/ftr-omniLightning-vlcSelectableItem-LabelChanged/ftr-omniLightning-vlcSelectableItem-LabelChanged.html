<section ng-controller="SelectableItemFTRLabelChanged">
    <div ng-if="control.vlcSI[control.itemsKey][0]">
        <section class="slds-grid slds-wrap slds-grid--pull-padded ng-scope">
            <a  class="slds-size--3-of-12 slds-medium-size--3-of-12 slds-large-size--3-of-12 vlc-slds-items--container ftr-selectableItems"
                ng-click="addProduct(p, control)"
                vlc-slds-prod-desc="{{ p.Product2.Description }}"
                ng-repeat='p in productList'
                ng-if="p.Product2.%vlocity_namespace%__Type__c != 'License Add-on'"
                ng-class="setSelectedDisabledClass(p)">
                <div ng-if="spinnerLoading">
                    <div style="background-color: white; opacity: 0.5; width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 100;"></div>
                    <div class="demo-only" style="position: absolute; z-index: 110; width: 100%; height: 100%; top: 0; left: 0;">
                        <div class="slds-spinner_container">
                            <div role="status" class="slds-spinner slds-spinner_small slds-spinner_brand">
                                <span class="slds-assistive-text">Loading</span>
                                <div class="slds-spinner__dot-a"></div>
                                <div class="slds-spinner__dot-b"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="vlc-slds-selectableItem" ng-init="most_popular = formatJson(p.Product2.%vlocity_namespace%__AttributeDefaultValues__c)">
                    <span class="most-popular-tag" ng-if="most_popular.ATTR_MOST_POPULAR">Most Popular</span>
                    <label class="slds-form__element__label" id="product-name">
                        {{p.name}}

                        <div class="vlc-slds_info_icon" ng-show="p.Product2.Description.length > 0">
                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true" title="Help">
                        <svg class="slds-button__icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" id="info"><path d="M26 2C12.7 2 2 12.7 2 26s10.7 24 24 24 24-10.7 24-24S39.3 2 26 2zm0 12.1c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3zm5 21c0 .5-.4.9-1 .9h-8c-.5 0-1-.3-1-.9v-2c0-.5.4-1.1 1-1.1.5 0 1-.3 1-.9v-4c0-.5-.4-1.1-1-1.1-.5 0-1-.3-1-.9v-2c0-.5.4-1.1 1-1.1h6c.5 0 1 .5 1 1.1v8c0 .5.4.9 1 .9.5 0 1 .5 1 1.1v2z"></path></svg>
                        <span class="slds-assistive-text">Description</span>
                        </button>
                        </div>


                        <span class="tooltip" role="tooltip" id="description-tooltip" ng-show="p.Product2.Description.length > 0">
                            {{p.Product2.Description}}
                        </span>
                    </label>

                    <!-- <div ng-if="control.propSetMap.showNRC" ng-if="!control.propSetMap.dontFormatPrice" class="vlc-slds-item--onecost" ng-init="UnitPrice = p.UnitPrice.value ? p.UnitPrice.value : 0.00">

                        <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">
                            {{UnitPrice | currency:bpTree.cpqCurrencySymbol  | numFormatFilter}}
                        </label>
                        <label ng-if="control.propSetMap.dontFormatPrice" ng-hide="UnitPrice == 0.00"  class="slds-form__element__label" style="font-size:14px;">
                            {{UnitPrice}}
                        </label>
                        

                        <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">Purchase Price</label>
                        
                    </div> -->
                    
                    <div ng-if="control.propSetMap.showMRC" ng-if="!control.propSetMap.dontFormatPrice" class="vlc-slds-item--cost" ng-init="RecurringPrice__c = p.%vlocity_namespace%__RecurringPrice__c.value ? p.%vlocity_namespace%__RecurringPrice__c.value : 0.00">
                        <span ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label slds-m-top_medium">
                            MRC {{RecurringPrice__c}}
                            <!-- {{RecurringPrice__c | currency:bpTree.cpqCurrencySymbol  | numFormatFilter}} -->
                        </span>
                        <label ng-if="control.propSetMap.dontFormatPrice" ng-hide="RecurringPrice__c== 0.00" class="slds-form__element__label" style="font-size:14px;" >
                            {{RecurringPrice__c}}
                        </label>
                        <!-- <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">Monthly Rental</label> -->
                        <span ng-if="p.maxQuantity == 20 && p.Product2.%vlocity_namespace%__Type__c != 'Add-on Services'" class="slds-form__element__label slds-m-top_small">(License Limit={{p.maxQuantity}})</span>
                        <span ng-if="showAddonIncludedMsg" class="slds-form__element__label slds-m-top_small" style="z-index: 1"><strong>Included with Premium License.</strong></span>
                    </div>
                    
                    
                    
                    <div class="vls-slds-item--action">

                        <span class="slds-icon_container slds-icon-action-approval slds-icon_container--circle">
                            <slds-svg-icon aria-hidden="true"
                                        sprite="'action'"
                                        icon="'approval'"
                                        size="'small'"
                                        extra-classes="''">
                            </slds-svg-icon>
                        </span>

                    </div>

                </div>

            </a>
        </section>
        <section class="slds-grid slds-wrap slds-grid--pull-padded ng-scope" ng-if="!control.propSetMap.isAddonsPage" >
            <span class="slds-size--1-of-1 slds-text-heading_medium slds-m-top_x-large slds-m-bottom_large">
                <strong>Add-On License</strong></span>
            <a  class="slds-size--3-of-12 slds-medium-size--3-of-12 slds-large-size--3-of-12 vlc-slds-items--container ftr-selectableItems"
                ng-click="addProduct(p, control)"
                vlc-slds-prod-desc="{{ p.Product2.Description }}"
                ng-repeat='p in productList'
                ng-if="p.Product2.%vlocity_namespace%__Type__c == 'License Add-on'"
                ng-class="setSelectedDisabledClass(p)">
                
                <div ng-if="spinnerLoading">
                    <div style="background-color: white; opacity: 0.5; width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 100;"></div>
                    <div class="demo-only" style="position: absolute; z-index: 110; width: 100%; height: 100%; top: 0; left: 0;">
                        <div class="slds-spinner_container">
                            <div role="status" class="slds-spinner slds-spinner_small slds-spinner_brand">
                                <span class="slds-assistive-text">Loading</span>
                                <div class="slds-spinner__dot-a"></div>
                                <div class="slds-spinner__dot-b"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="vlc-slds-selectableItem">

                    <label class="slds-form__element__label" id="product-name">
                        {{p.Name.value}}

                        <div class="vlc-slds_info_icon" ng-show="p.Product2.Description.length > 0">
                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true" title="Help">
                        <svg class="slds-button__icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" id="info"><path d="M26 2C12.7 2 2 12.7 2 26s10.7 24 24 24 24-10.7 24-24S39.3 2 26 2zm0 12.1c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3zm5 21c0 .5-.4.9-1 .9h-8c-.5 0-1-.3-1-.9v-2c0-.5.4-1.1 1-1.1.5 0 1-.3 1-.9v-4c0-.5-.4-1.1-1-1.1-.5 0-1-.3-1-.9v-2c0-.5.4-1.1 1-1.1h6c.5 0 1 .5 1 1.1v8c0 .5.4.9 1 .9.5 0 1 .5 1 1.1v2z"></path></svg>
                        <span class="slds-assistive-text">Description</span>
                        </button>
                        </div>


                        <span class="tooltip" role="tooltip" id="description-tooltip" ng-show="p.Product2.Description.length > 0">
                            {{p.Product2.Description}}
                        </span>
                    </label>

                    <div ng-if="control.propSetMap.showNRC" ng-if="!control.propSetMap.dontFormatPrice" class="vlc-slds-item--onecost" ng-init="UnitPrice = p.UnitPrice.value ? p.UnitPrice.value : 0.00">

                        <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">
                            {{UnitPrice | currency:bpTree.cpqCurrencySymbol  | numFormatFilter}}
                        </label>
                        <label ng-if="control.propSetMap.dontFormatPrice" ng-hide="UnitPrice == 0.00"  class="slds-form__element__label" style="font-size:14px;">
                            {{UnitPrice}}
                        </label>
                        

                        <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">Purchase Price</label>
                        
                    </div>
                
                    <div ng-if="control.propSetMap.showMRC" ng-if="!control.propSetMap.dontFormatPrice" class="vlc-slds-item--cost" ng-init="RecurringPrice__c = p[nsPrefix + 'RecurringPrice__c'].value ? p[nsPrefix + 'RecurringPrice__c'].value : 0.00">

                        <span ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label slds-m-top_medium">
                            MRC {{RecurringPrice__c}}
                        </span>
                        <label ng-if="control.propSetMap.dontFormatPrice" ng-hide="RecurringPrice__c== 0.00" class="slds-form__element__label" style="font-size:14px;" >
                            {{RecurringPrice__c}}
                        </label>
                        <!-- <label ng-if="!control.propSetMap.dontFormatPrice" class="slds-form__element__label">Monthly Rental</label> -->
                        
                    </div>
                    
                    
                    
                    <div class="vls-slds-item--action">

                        <span class="slds-icon_container slds-icon-action-approval slds-icon_container--circle">
                            <slds-svg-icon aria-hidden="true"
                                        sprite="'action'"
                                        icon="'approval'"
                                        size="'small'"
                                        extra-classes="''">
                            </slds-svg-icon>
                        </span>

                    </div>

                </div>

            </a>
        </section>
        <div class='vlc-slds-loadmore-products-btn vlc-slds-remote-action--button' ng-if="control.vlcSI[control.itemsKey][0].actions && !control.propSetMap.isAddonsPage">
            <div class="slds-form-element__control">
                <div class="vlc-control-wrapper">
                    <div id="loadMoreProducts"
                        class='slds-box'
                        title="Load More"
                        ng-click="baseCtrl.loadMoreProducts(control, this)">
                        <p>{{::customLabels.OmniSelItemLoadMore}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>